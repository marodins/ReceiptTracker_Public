{"version":3,"sources":["components/messages/ErrorMessages.js","auth/login_auth.js","components/forms/LoginForm.js","components/pages/Login.js","components/nav/NavBar.js","components/forms/UploadForm.js","components/tables/LoadData.js","components/messages/UploadMessages.js","components/pages/Upload.js","components/tables/ReceiptCard.js","components/tables/EditTable.js","components/tables/LoadReceipts.js","components/search/SearchReceipts.js","components/messages/SuccessMessages.js","components/pages/Receipts.js","components/messages/RegisterSuccess.js","components/messages/RegisterMessage.js","components/forms/RegisterForm.js","components/pages/Register.js","components/private_routes/_check_login.js","components/public_routes/logged_in_check.js","components/forms/PasswordChangeForm.js","components/lists/AccountPasswordChange.js","components/forms/EmailChangeForm.js","components/lists/AccountEmailChange.js","components/forms/DeleteAccountForm.js","components/lists/AccountDelete.js","components/pages/Account.js","App.js","index.js"],"names":["RegisterError","Message","negative","header","content","DeleteAccountError","EmailChangeError","PassChangeError","LoginError","ConfirmPassError","OldPassError","ConfirmEmailError","EmailExists","ReceiptUpdateUnsuccessful","this","authenticated","user","token","callback","axios","post","withCredentials","then","res","catch","err","tk","LoginForm","props","onChangeEmail","e","setState","email","target","value","onChangePassword","password","getSubmit","preventDefault","containedHere","state","data","authentication","loggedIn","Authenticate_user","login","history","push","error","bind","Segment","Form","onSubmit","basic","Field","onChange","type","id","name","Button","primary","React","Component","withRouter","Login","toReg","Container","fluid","textAlign","Header","as","Divider","placeholder","Grid","columns","relaxed","stackable","Column","verticalAlign","onClick","Content","vertical","class","to","logout","UploadForm","onChangeFile","fileChosen","files","onChangeLoader","bool","info","loading","handleData","onSubmitFile","formFile","FormData","append","headers","Authorization","handleCompletion","selectFile","fileName","nextSibling","click","cell","row","icon","Icon","hidden","size","color","LoadData","onChangeCell","rowId","closest","getAttribute","cellId","prevState","onDelete","row_id","items","saveReceipt","all_data","console","log","setComplete","handleEnter","code","otherChange","current","store","date","valueChange","defaultValue","key","item","item_name","price","items_obj","floated","Table","onKeyDown","Row","HeaderCell","Cell","Input","Body","Object","keys","map","d_key","UploadMessages","completion","success","Upload","exists","Popup","trigger","PopupContent","padded","ReceiptCard","handleDelete","operateModal","handleEdit","Card","Meta","extra","EditTable","cellClicked","clicked_id","inputChange","val","cell_id","handleItemDelete","submitChange","dimmer","loader","receipt_id","all_items","item_price","put","setMessage","receipt_date","clicked_cell","Dimmer","active","Loader","attached","LoadReceipts","params","deleteLoading","delete","getAll","showModal","modalOn","clearModal","edit_table","prevProps","Modal","onClose","open","onOpen","fixed","SearchReceipts","handleSearchChange","theVal","length","results","get","fullResults","rows","ob","Search","onResultSelect","setModal","result","onSearchChange","PassChangeSuccess","EmailChangeSuccess","ReceiptUpdateSuccess","Receipts","specific","quantity","createDataObject","sp","dataObj","forEach","check_id","split","prev","selected","m","currentUser","getUser","update","Group","RegisterSuccess","RegisterMessage","RegisterForm","dataSend","message","Register","compact","PrivateRoute","component","rest","render","isAuth","pathname","from","location","PublicRoute","PasswordChangeForm","handleSubmit","new","confirm","old","cancel","handleError","handleInput","AccountPasswordChange","handleClick","button","handleCancel","changed","List","EmailChangeForm","AccountEmailChange","DeleteAccountForm","AccountDelete","Account","animated","Item","App","setUser","jwt","getToken","path","exact","defaults","baseURL","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8ca13107.chunk.js","sourcesContent":["// Various error messages\n\nimport React from 'react';\nimport {Message} from 'semantic-ui-react';\n\n\nconst RegisterError = () =>(\n    <Message \n        negative \n        header = \"Whoops! This email is taken.\"\n        content = \"Use another email.\" \n    />\n\n)\nconst DeleteAccountError = () =>(\n    <Message\n        negative\n        header = \"Unable to delete account, something went wrong please try again.\"\n        />\n)\nconst EmailChangeError = () =>(\n    <Message\n        negative\n        header = \"Unable to change email, something went wrong, please try again.\"\n        />\n)\nconst PassChangeError = () =>(\n    <Message\n        negative\n        header = \"Unable to change password, something went wrong, please try again.\"\n        />\n)\nconst LoginError = () =>(\n    <Message\n        negative\n        header = \"Incorrect email or password.\"\n        content = \"Try, again.\"\n    />\n)\n\nconst ConfirmPassError =()=>(\n    <Message \n        negative\n        header =\"New password and confirm password don't match\"\n        content =\"Try again\"\n    />\n\n)\nconst OldPassError =()=>(\n    <Message \n        negative\n        header =\"Old password is incorrect\"\n        content =\"Try again\"\n    />\n\n)\nconst ConfirmEmailError =()=>(\n    <Message \n        negative\n        header =\"Emails don't match\"\n        content =\"Try again\"\n    />\n\n)\nconst EmailExists =()=>(\n    <Message\n        negative\n        header = \"Email already exists\"\n        content = \"try different email\"/>\n)\n\nconst ReceiptUpdateUnsuccessful = ()=>(\n    <Message\n        negative\n        header=\"something went wrong with the update, please try again\"/>\n)\n\nexport {\n        RegisterError,\n        LoginError,\n        ConfirmPassError,\n        OldPassError, \n        ConfirmEmailError,\n        EmailExists,\n        ReceiptUpdateUnsuccessful,\n        DeleteAccountError,\n        EmailChangeError,\n        PassChangeError};","\n// instance to track each users' authorization status for rerouting purposes\n\nimport axios from 'axios';\n\nclass Authenticate_user{\n    constructor(){\n        this.authenticated = false;\n        this.user = null;\n        this.token = null;\n    }\n\n    login(user,token,callback){\n        this.authenticated=true;\n        this.token = token;\n        this.user = user;\n\n        callback();\n    }\n\n    logout(callback){\n        this.authenticated=false\n        axios.post('/logout',this.user,{withCredentials:true})\n            .then(res=>{\n                this.user=null;\n                this.token=null;\n                callback();\n            })\n            .catch(err=>{\n                return err\n            })\n    }\n    isAuth(){\n        return this.authenticated\n    }\n    getUser(){\n        return this.user\n    }\n    setToken(tk){\n        this.token = tk\n\n    }\n    setUser(user){\n        this.user = user\n    }\n}\n\nexport default new Authenticate_user();","import React from 'react';\nimport axios from 'axios';\nimport {withRouter} from 'react-router-dom';\nimport {LoginError} from '../messages/ErrorMessages';\nimport {Button, Form, Segment} from 'semantic-ui-react';\nimport Authenticate_user from '../../auth/login_auth';\n\n\n\n\nclass LoginForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.onChangeEmail= this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.getSubmit = this.getSubmit.bind(this);\n\n        this.state = {\n            email:'',\n            password:'',\n            loggedIn:null,\n        }\n    }\n\n    onChangeEmail = e => {\n        this.setState({email:e.target.value})\n    }\n    onChangePassword = e =>{\n        this.setState({password:e.target.value})\n    }\n    getSubmit=(e)=>{\n        e.preventDefault();\n        var containedHere = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        // request to authorize user\n        axios.post('/login',containedHere,{withCredentials:true})\n            .then(res=>{\n                if(res.data.authentication === \"mismatch\"){\n                    this.setState({loggedIn:false})\n                }\n                else if(res.data.authentication===\"no-match\"){\n                    this.setState({loggedIn:false})\n                }\n                else{\n                    // take user to upload page\n                    Authenticate_user.login(res.data.user,res.data.token,()=>{\n                        this.props.history.push('/upload')\n                    });\n                }\n\n            })\n            .catch(error=>{\n                this.props.history.push('/');\n            });\n    };\n\n    render(){\n        return(\n            <Segment>\n                {this.state.loggedIn===false?<LoginError/>:null}\n                <Form onSubmit = {this.getSubmit}>\n                    <Segment basic>\n                        <Form.Field>\n                            <label>Email</label>\n                            <input onChange = {this.onChangeEmail} value = {this.state.email} type='email' id = 'email' name='email'></input>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Password</label>\n                            <input\n                                type = 'password'\n                                id = 'password'\n                                name = 'password'\n                                value = {this.state.password}\n                                onChange = {this.onChangePassword}\n                            >\n                            </input>\n                        </Form.Field>\n                        <Button type = \"submit\" primary>Submit</Button>\n                    </Segment>\n                </Form>\n            </Segment>\n\n\n        )\n    }\n}\n\nexport default withRouter(LoginForm);\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport LoginForm from '../forms/LoginForm';\nimport {Button, Divider,Grid,Segment,Container, Header} from 'semantic-ui-react'\n\n\n\nclass Login extends React.Component {\n    \n    constructor(props){\n        super(props);\n        \n    }\n\n    toReg = () =>{\n        this.props.history.push('/register')\n    }\n    render(){\n        return(\n            <Container fluid>\n                <Container textAlign='center'>\n                  <Header as='h1'>Receipt Tracker</Header>\n                  <Divider></Divider>  \n                </Container>\n                \n                <Container>\n                    <Segment placeholder>\n                        <Grid columns = {2} relaxed= 'very' stackable>\n                            <Grid.Column>\n                                <LoginForm />                    \n                            </Grid.Column>\n                            <Grid.Column verticalAlign = 'middle'>\n                                <Segment>\n                                    Don't have an account?\n                                    <Button primary onClick={this.toReg}>\n                                        <Button.Content>\n                                            Register\n                                        </Button.Content>\n                                    </Button>\n                                </Segment>                    \n                            </Grid.Column>\n                        </Grid> \n                        <Divider vertical></Divider>               \n                    </Segment>                \n                </Container>                \n            </Container>\n\n\n\n        )    \n    }\n\n}\n\nexport default withRouter(Login);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Authenticate_user from '../../auth/login_auth';\nimport {withRouter} from 'react-router-dom';\n\n\n\n\nconst NavBar = props =>{\n    return(\n        <div class = \"ui four item menu\">\n            <Link class = \"item\" to =\"/account\">Account</Link>\n            <Link class = \"item\" to =\"/upload\">Upload</Link>\n            <Link class = \"item\" to =\"/receipts\">Receipts</Link>\n            <Link class = \"item\" onClick={()=>{Authenticate_user.logout(()=>\n                props.history.push('/'))}}>Log Out</Link>\n        </div>\n    )\n}\n\nexport default withRouter(NavBar);\n","\n// Upload form for image file\n\nimport React from 'react';\nimport axios from 'axios';\nimport {Button,Form, Header,Container, Segment, Icon} from 'semantic-ui-react'\n\n\n\nclass UploadForm extends React.Component{\n    constructor(props){\n        super(props)\n        this.onChangeFile = this.onChangeFile.bind(this)\n        this.onSubmitFile = this.onSubmitFile.bind(this)\n        this.onChangeLoader = this.onChangeLoader.bind(this)\n        this.state = {\n            fileChosen:null,\n            loading:false,\n            cell:{\n                row:'',\n                name:''\n            },\n            fileName:null\n        }\n\n    }\n    onChangeFile = (e)=>{\n        this.setState({fileChosen:e.target.files[0]})\n    }\n    onChangeLoader = (bool,info)=>{\n        this.setState({loading:bool},()=>{\n            if(info){\n                this.props.handleData(info)\n            }\n\n        })\n    }\n\n    onSubmitFile = (e)=>{\n        e.preventDefault();\n        const formFile = new FormData();\n        formFile.append('avatar',this.state.fileChosen);\n\n        const headers = {\n            headers:{'content-type':'multipart/form-data'},\n            Authorization:this.props.token,\n            withCredentials:true\n        }\n        this.onChangeLoader(true,null);\n\n        // submit image file to server for processing\n        axios.post('/upload',formFile,headers)\n\n            .then(res=>{\n                this.onChangeLoader(false,res.data.data)\n            })\n            .catch(error=>{\n\n                return this.props.handleCompletion('INCOMPLETE')\n\n            });\n\n    }\n    selectFile = (e)=>{\n        this.setState({fileName:''})\n        e.target.nextSibling.click()\n\n    }\n    render(){\n        return(\n            <Container textAlign=\"center\">\n                <Segment basic>\n                    <Header icon>\n                        <Icon name = \"file image outline\"/>\n                    </Header>\n                    <Form id = \"upload-form\" loading ={this.state.loading}>\n                        <Form.Field>\n                            <label>\n                               {this.state.fileChosen?this.state.fileChosen.name:null}\n                            </label>\n\n                            <Button onClick={this.selectFile}>Select File</Button>\n\n                            <input id = \"fileUpload\" onChange = {this.onChangeFile} type = \"file\" name = \"receipt\" hidden/>\n                        </Form.Field>\n\n                        <Button size='medium' color =\"blue\" type =\"submit\" onClick = {this.onSubmitFile}>Upload</Button>\n                    </Form>\n                </Segment>\n            </Container>\n\n\n\n        )\n    }\n\n};\nexport default UploadForm\n","import React from 'react'\nimport {Table,Input,Button} from 'semantic-ui-react'\nimport axios from 'axios'\n\n\n\nclass LoadData extends React.Component{\n    //data.data.items[0] ... [1]...\n    constructor(props){\n        super(props);\n        this.valueChange = this.valueChange.bind(this)\n        this.onChangeCell = this.onChangeCell.bind(this)\n        this.onDelete = this.onDelete.bind(this)\n        this.saveReceipt = this.saveReceipt.bind(this)\n        this.handleEnter = this.handleEnter.bind(this)\n        this.state = {\n            cell:{\n                row:'',\n                name:''\n            },\n            loading:false\n        }\n    }\n    onChangeCell = (e) =>{\n        //get id of clicked cell\n        const rowId = e.target.closest('tr').getAttribute('id')\n        const cellId = e.target.getAttribute('id')\n        if(cellId == null){\n            return false\n        }\n        this.setState(prevState=>({\n            ...prevState,\n            cell:{\n                row:rowId,\n                name:cellId,\n            }\n        }))\n\n    }\n    onDelete = (e) =>{\n        var row_id= e.target.closest('tr').id\n        var {items} = {...this.props.data}\n        delete items[row_id]\n        this.props.handleData({items})\n    }\n\n    saveReceipt = () =>{\n        this.setState({loading:true});\n        //make axios req\n        var all_data = this.props.data\n        var headers = {\n            withCredentials:true\n        }\n        axios.post('http://localhost:3131/submit_receipt',all_data,headers)\n        .then(res=>{\n            console.log(res)\n            this.setState({loading:false},()=>{\n                //no error--false\n                this.props.setComplete(false)\n            })\n            //this.props.history.push('/upload')\n        })\n        .catch(error=>{\n            console.log(error)\n            this.props.setComplete(true)\n        })\n\n    }\n\n    handleEnter = (e) =>{\n        if(e.code === 'Enter'){\n            this.setState({cell:{row:'',name:''}})\n        }\n    }\n    otherChange = (e) =>{\n        var current = e.target.value\n        var id = e.target.id\n        var {store,date} = {...this.props.data}\n        if(id ==='store'){\n            store = current\n        }else{\n            date = current\n        }\n        \n        this.props.handleData({store,date})\n    }\n\n    valueChange = (e) =>{\n        console.log('cur va',e.target.value)\n\n        var current = e.target.defaultValue\n        var id = e.target.id\n        var key = e.target.closest('tr').id\n        var {items} = {...this.props.data}\n\n        for(var item in items){\n\n            if(items[item].item_name === current && id === 'item' && key == item){\n                items[item].item_name = e.target.value\n            }\n            if(items[item].price === current && id ==='price' && key == item){\n                items[item].price = e.target.value\n            }\n        }\n        this.props.handleData({items})\n    }\n    render(){\n        if(this.props.data==null){\n            return(<div></div>)\n        }\n        const date = this.props.data.date\n        const store = this.props.data.store\n        const items_obj = this.props.data.items;\n        return(\n            <div>\n                <Button floated ='right' color='green'onClick={this.saveReceipt} basic loading = {this.state.loading}>Save Receipt</Button>\n                <Table onKeyDown = {this.handleEnter}>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>Date</Table.HeaderCell>\n                            <Table.HeaderCell>Store</Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                        </Table.Row>\n                        <Table.Row onClick = {this.onChangeCell} id = 'initial'>\n                        {this.state.cell.name == 'date'?\n                                        <Table.Cell><Input defaultValue = {date} id = \"date\" onChange = {this.otherChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {date} id =\"date\">{date}</Table.Cell>}\n                        {this.state.cell.name == 'store'?\n                                        <Table.Cell><Input defaultValue = {store} id = \"store\" onChange = {this.otherChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {store} id =\"store\">{store}</Table.Cell>}\n                        </Table.Row>\n                        <Table.Row>\n                            <Table.HeaderCell>Item</Table.HeaderCell>\n                            <Table.HeaderCell>Price</Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                        {Object.keys(items_obj).map((d_key)=>{\n                            var item = items_obj[d_key].item_name\n                            var price = items_obj[d_key].price\n                            return(\n                                <Table.Row onClick = {this.onChangeCell} key= {d_key} id = {d_key}>\n                                    {this.state.cell.row==d_key && this.state.cell.name == 'item'?\n                                        <Table.Cell><Input defaultValue = {item} id = \"item\" onChange = {this.valueChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {item} name = {item} id =\"item\">{item}</Table.Cell>}\n                                    {this.state.cell.row==d_key && this.state.cell.name == 'price'?<Table.Cell><Input defaultValue = {price} id = \"price\" onChange = {this.valueChange}></Input></Table.Cell>:<Table.Cell value = {price} name = {price} id = \"price\">{price}</Table.Cell>}\n                                    <Table.Cell><Button floated ='right' color ='red' onClick = {this.onDelete}>Delete Item</Button></Table.Cell>\n                                </Table.Row>\n                            )})\n                        }\n                    </Table.Body>\n                </Table>\n            </div>\n        )    \n\n\n    }\n}\n\n\n\nexport default LoadData;","import react from 'react'\nimport {Message} from 'semantic-ui-react'\n\n\n\n\nexport const UploadMessages = ({completion})=>{\n\n    if(completion==='COMPLETED'){\n        return (<Message success header = 'receipt uploaded successfully' content ='viewable in receipts'/>)\n    }\n    else if(completion === 'INCOMPLETE'){\n        return (<Message negative header = 'something went wrong try again.'/>)\n    }\n    else{\n       return (null)\n    }\n    \n}\n","import React from 'react';\nimport NavBar from '../nav/NavBar'\nimport UploadForm from '../forms/UploadForm'\nimport LoadData from '../tables/LoadData'\nimport {UploadMessages} from '../messages/UploadMessages'\nimport {Popup,Button, PopupContent, Segment,Container} from 'semantic-ui-react'\n\n\n\nclass Upload extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleData = this.handleData.bind(this)\n        this.handleCompletion = this.handleCompletion.bind(this)\n        this.state = {\n            data:{\n                email:'',\n                items:{},\n                store:'',\n                date:''\n            },\n            exists:null,\n            completion:''\n        }\n    }\n    handleData = ({email,items,store,date}) =>{\n\n        this.setState(prevState=>(\n                {\n                    ...prevState,\n                    data:{\n                        email: email? email : prevState.data.email,\n                        items: items? items: prevState.data.items,\n                        store: store? store : prevState.data.store,\n                        date : date? date: prevState.data.date\n                    },\n                    exists:true\n                        \n                }\n            )\n        )\n    }\n\n    handleCompletion = (error) =>{\n        if(error){\n           return this.setState({completion:\"INCOMPLETE\"}) \n        }\n        this.setState({completion:\"COMPLETED\"})\n    }\n\n    render(){\n        return(\n            <div class = \"ui container\">\n                <NavBar />\n                <UploadMessages completion = {this.state.completion}/>\n                <h1> Upload Receipt </h1>\n                <Container textAlign=\"right\">\n                    <Popup trigger = {<Button icon=\"question\"></Button>}>\n                        <PopupContent>\n                            <Segment basic padded>\n                                + click cell to edit data <br/>\n                                + save data\n                            </Segment>\n\n                        </PopupContent>\n                    </Popup>                        \n                </Container>\n                \n\n                <Segment>\n                  <UploadForm handleData = {this.handleData} handleCompletion = {this.handleCompletion}/>  \n                </Segment>\n                <Segment padded=\"very\">\n                    {this.state.exists?<LoadData handleData = {this.handleData} data = {this.state.data} setComplete = {this.handleCompletion}/>:null}   \n                </Segment>\n                \n            </div>\n        \n        )\n    }\n\n}\n\nexport default Upload;","import React from 'react'\nimport {Card,Button,Segment} from 'semantic-ui-react'\n\n\nvar ReceiptCard = ({store,date,handleDelete,operateModal,loading,handleEdit}) =>(\n    <Segment basic>\n        <Card>\n            <Card.Content>\n                <Card.Header>{store}</Card.Header>\n                <Card.Meta>{date}</Card.Meta>                            \n            </Card.Content>\n            <Card.Content extra>\n                <div class = \"ui three buttons\">\n                    <Button id = \"view\" onClick = {operateModal} color = \"green\">\n                        View\n                    </Button>\n                    <Button id = \"edit\" color = \"black\" onClick={handleEdit}>\n                        Edit\n                    </Button>                \n                    <Button id = \"delete\" onClick={handleDelete} color = \"red\" loading={loading}>\n                        Delete\n                    </Button>\n\n                </div>\n            </Card.Content>\n        </Card>\n    </Segment>\n)\nexport default ReceiptCard","import axios from 'axios'\nimport React from 'react'\nimport {Table,Button,Input, Container,Dimmer,Loader} from 'semantic-ui-react'\n\n\n\n\nclass EditTable extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            items:this.props.data.items,\n            store:this.props.data.store,\n            date:this.props.data.receipt_date,\n            key:'',\n            clicked_id:'',\n            dimmer:false,\n            loader:false\n        }\n    }\n    cellClicked = (e)=>{\n        var id = e.target.closest('tr').id\n        var name = e.target.id\n\n        console.log('in the click',id + name)\n\n        this.setState({key:id,clicked_id:name})\n    }\n\n    inputChange = (e)=>{\n        var val = e.target.value\n        var key = this.state.key\n        var cell_id = e.target.id\n        this.setState((prevState)=>{\n            \n            if(cell_id ===\"store\"){\n                prevState.store = val\n            }else if(cell_id===\"date\"){\n                prevState.date = val\n            }else{\n                prevState.items[key][cell_id] = val\n            }\n            \n            return prevState\n        }) \n\n\n    }\n\n    handleEnter = (e) =>{\n        if(e.code ==='Enter'){\n            this.setState({clicked_id:''})\n        }\n        \n    }\n    handleItemDelete = (e) =>{\n        var id = e.target.closest('tr').id\n        this.setState(prevState=>{\n            delete prevState.items[id]\n            return prevState\n        })\n    }\n    submitChange = () =>{\n        this.setState({dimmer:true,loader:true})\n        var store = this.state.store\n        var date = this.state.date\n        var receipt_id = this.props.data.receipt_id\n        var items = Object.keys(this.state.items).map((key)=>{\n            var all_items = this.state.items\n            return [all_items[key].item_name,all_items[key].item_price,this.props.data.receipt_id]\n        })\n        axios.put('/receipts/update',{store,date,items,receipt_id},{withCredentials:true})\n            .then(res=>{\n                return this.setState({dimmer:false,loader:false},()=>{\n                    this.props.setMessage('success')\n                    this.props.operateModal()\n                })\n            })\n            .catch(err=>{\n                return this.setState({dimmer:false,loader:false},()=>{\n                    this.props.setMessage('error')\n                })\n            })\n    }\n\n    render(){\n        var clicked_cell =this.state.key+this.state.clicked_id \n        console.log(clicked_cell,'clicked cell')\n        return(\n            <Container>\n                <Dimmer active = {this.state.dimmer}>\n                    <Loader active={this.state.loader}/>\n                </Dimmer>  \n                    <Table onKeyDown = {this.handleEnter} attached='top'>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>\n                                    Store\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    Date\n                                </Table.HeaderCell>                          \n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            <Table.Row id =\"header\">\n                                <Table.Cell id = \"store\" onClick={this.cellClicked}>\n                                    {this.state.clicked_id === 'store'?<Input id =\"store\" defaultValue={this.state.store} onChange={this.inputChange}></Input>:this.state.store}\n                                </Table.Cell>\n                                <Table.Cell id = \"date\" onClick = {this.cellClicked}>\n                                    {this.state.clicked_id === 'date'?<Input id =\"date\" defaultValue ={this.state.date} onChange={this.inputChange}/>:this.state.date}\n                                </Table.Cell>\n                            </Table.Row>                           \n                        </Table.Body>\n                    </Table>\n                    <Table onKeyDown = {this.handleEnter} attached='bottom'>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>\n                                    Item\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    Price\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    \n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            {Object.keys(this.state.items).map((key)=>{\n                                var item_name = this.state.items[key].item_name\n                                var price = this.state.items[key].item_price\n                                return(\n                                    <Table.Row id = {key} key = {key} >\n                                        {clicked_cell === (key+\"item_name\")?<Input id = \"item_name\" onChange = {this.inputChange} defaultValue = {item_name}></Input>:<Table.Cell id = \"item_name\" onClick ={this.cellClicked}>{item_name}</Table.Cell>}\n                                        {clicked_cell === (key+\"item_price\")?<Input id = \"item_price\" onChange ={this.inputChange} defaultValue = {price}></Input>:<Table.Cell id = \"item_price\" onClick ={this.cellClicked}>{price}</Table.Cell>}\n                                        <Table.Cell><Button size =\"small\" onClick = {this.handleItemDelete} color = \"red\">Delete Item</Button></Table.Cell>\n                                    </Table.Row>\n                                )\n                            })}                            \n                        </Table.Body>\n\n                    </Table>\n                    <Button floated = \"right\" onClick = {this.submitChange} color = \"green\">Submit Changes</Button>\n            </Container> \n        )\n    }\n}\n\nexport default EditTable","import React from 'react'\nimport {Table, Card,Button, Modal,Container} from 'semantic-ui-react'\nimport ReceiptCard from './ReceiptCard'\nimport axios from 'axios'\nimport EditTable from './EditTable'\n\n\nclass LoadReceipts extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleDelete = this.handleDelete.bind(this)\n        this.operateModal = this.operateModal.bind(this)\n        this.handleEdit = this.handleEdit.bind(this)\n        console.log(this.props.data)\n        this.state = {\n            data:this.props.data,\n            deleteLoading:false,\n            showModal:false,\n            edit_table:false\n        }\n    }\n\n    componentDidMount(){\n        if(this.props.modalOn === this.state.data.receipt_id){\n            this.setState({showModal:true})\n        }\n    }\n\n    componentDidUpdate(prevProps){\n        if(this.props.modalOn !== prevProps.modalOn){\n            if(this.props.modalOn === this.state.data.receipt_id){\n               return this.setState({showModal:true}) \n            }\n        }\n    }\n\n    handleDelete = (e) =>{\n        var id = {params:{receipt_id:this.state.data.receipt_id}}\n        this.setState({deleteLoading:true})\n\n        var header = {\n            withCredentials:true\n        }\n        axios.delete('/receipts/delete',id,header)\n        .then(res=>{\n            this.setState({deleteLoading:false})\n            this.props.getAll()\n        })\n        .catch(err=>console.log(err))\n    }\n\n    operateModal = () =>{\n        this.setState((prevState)=>{\n            return {\n                ...prevState,\n                showModal:prevState.showModal?false:true,\n                }\n        },()=>{\n            if(this.state.showModal === true){\n                if(this.props.modalOn === this.state.data.receipt_id){\n                    console.log('clearrrrrrrrring')\n                    this.props.clearModal('')\n                }\n            }\n        })\n        \n        \n    }\n\n    handleEdit = () =>{\n        this.setState({edit_table:true})\n    }\n    render(){\n        console.log('modalOn?',this.props.modalOn,this.state.showModal)\n        var store = this.props.data.store\n        var date = this.props.data.receipt_date\n        return(\n                <div>\n                    <ReceiptCard\n                        store = {store} \n                        date = {date}\n                        handleDelete = {this.handleDelete}\n                        handleEdit = {this.handleEdit}\n                        operateModal = {this.operateModal}\n                        loading = {this.state.deleteLoading}/>\n\n                    <Modal\n                        onClose = {()=>{\n                            this.setState({edit_table:false})\n                        }}\n                        open = {this.state.edit_table}>\n                        <EditTable \n                            data = {this.state.data} \n                            setMessage = {this.props.setMessage} \n                            operateModal = {()=>\n                            (this.setState({edit_table:false}))}/>\n                    </Modal>\n\n                                     \n                    <Modal\n                        onClose = {this.operateModal}\n                        onOpen = {this.operateModal}\n                        open = {this.state.showModal}\n                        >\n                        <Container>\n                            <Table fixed basic>\n                                <Table.Header>\n                                    <Table.Row>\n                                            <Table.HeaderCell>\n                                                Item\n                                            </Table.HeaderCell>\n                                            <Table.HeaderCell>\n                                                Price\n                                            </Table.HeaderCell>                          \n                                    </Table.Row>                                    \n                                </Table.Header>\n\n                                <Table.Body>\n                                    {Object.keys(this.state.data.items).map((key)=>{\n                                        return(\n                                            <Table.Row id = \"item\" key = {key}>\n                                                <Table.Cell id = \"item_name\">{this.state.data.items[key].item_name}</Table.Cell>\n                                                <Table.Cell id = \"price\" >{this.state.data.items[key].item_price}</Table.Cell>\n                                            </Table.Row>\n                                        )\n                                    })}                                    \n                                </Table.Body>\n\n                            </Table>\n                        </Container>                   \n                    </Modal>                   \n                </div>\n                \n\n\n        )\n    }\n}\n\n\nexport default LoadReceipts","import axios from 'axios'\nimport React from 'react'\nimport {Search} from 'semantic-ui-react'\n\n\n\n\nclass SearchReceipts extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleSearchChange = this.handleSearchChange.bind(this)\n        this.state={\n            results:[],\n            value:'',\n            loading:false\n        }\n    }\n\n    handleSearchChange = (e)=>{\n        var theVal =  e.target.value\n        if(theVal.length === 0){\n            return this.setState({value:theVal,results:[]})\n        }\n        this.setState({loading:true})\n        axios.get('/receipts/search',{params:{value:theVal}},{withCredentials:true})\n            .then((res)=>{\n                var fullResults = res.data.data.rows.map((ob)=>{\n                    return {...ob,key:ob.price}\n                })\n                this.setState({results:fullResults,value:theVal,loading:false})\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n    }\n\n\n\n    render(){\n        return(\n            <Search\n                loading={this.state.loading}\n                onResultSelect={(e,data)=>{\n                    return this.props.setModal(data.result.price)\n                }}\n                onSearchChange = {this.handleSearchChange}\n                results = {this.state.results}\n                value = {this.state.value}\n            />\n        )\n    }\n}\n\nexport default SearchReceipts","import React from 'react'\nimport {Message} from 'semantic-ui-react'\n\n\n\nconst PassChangeSuccess = () =>(\n    <Message\n        success\n        header = \"Password changed successfully\"\n    />\n)\n\nconst EmailChangeSuccess = () =>(\n    <Message\n        success\n        header = \"Email changed successfully\"/>\n)\nconst ReceiptUpdateSuccess = ()=>(\n    <Message\n        success\n        header = \"Receipt updated successfully\"/>\n)\nexport {PassChangeSuccess,EmailChangeSuccess,ReceiptUpdateSuccess}","import React from 'react';\nimport NavBar from '../nav/NavBar';\nimport Authenticate_user from '../../auth/login_auth';\nimport axios from 'axios';\nimport LoadReceipts from '../tables/LoadReceipts'\nimport SearchReceipts from '../search/SearchReceipts'\nimport { ReceiptUpdateSuccess } from '../messages/SuccessMessages'\nimport {ReceiptUpdateUnsuccessful} from '../messages/ErrorMessages'\n\nimport {Card,Segment} from 'semantic-ui-react'\n\n\nclass Receipts extends React.Component{\n    constructor(props){\n        super(props);\n        this.getAll = this.getAll.bind(this)\n        this.createDataObject = this.createDataObject.bind(this)\n        this.setMessage = this.setMessage.bind(this)\n        this.setModal = this.setModal.bind(this)\n        this.state ={\n            currentUser: Authenticate_user.getUser(),\n            data:null,\n            update:false,\n            success:null,\n            selected:''\n\n        }\n    }\n    //make axios request to get all past 50? receipts\n    getAll = (specific) => {\n        \n        var headers = {\n            withCredentials:true\n        }\n        var params;\n        if(specific){\n            params = {params:{specific:specific}}\n            \n        }else{\n            params = {params:{quantity:10}}\n        }\n        axios.get('/receipts',params,headers)\n            .then(res=>{\n                var {data} = res.data\n                this.createDataObject(data,specific)\n            })\n            .catch(err=>{\n                return this.setState({success:false})\n            })\n    }\n    createDataObject = (data,sp) =>{\n        var dataObj = {}\n\n        Object.keys(data).forEach((key)=>{\n            var check_id = data[key].receipt_id\n            if(!(check_id in dataObj)){\n                dataObj[check_id] = {\n                    store: data[key].store,\n                    receipt_date:data[key].receipt_date.split('T')[0],\n                    receipt_id: data[key].receipt_id,\n                    items:[]\n                }\n            }\n            dataObj[check_id][\"items\"].push({\n                item_name:data[key].item_name,\n                item_price:data[key].item_price\n            })\n        })\n        \n        this.setState((prev)=>{\n            if(sp){\n                return {...prev,data:dataObj,selected:sp}\n            }\n            return {...prev,data:dataObj,selected:''}\n        })\n        \n    }\n\n    componentDidMount(){\n        this.getAll()\n    }\n\n    setMessage = (m)=>{\n        if(m === \"success\"){\n            return this.setState({success:true})\n        }\n        if(m === \"error\"){\n            return this.setState({success:false})\n        }\n        this.setState({success:null})\n    }\n    setModal = (id)=>{\n        if(!(this.state.data[id]) && id!==''){\n            return this.getAll(id)\n        }\n        return this.setState({selected:id})\n    }\n\n    render(){\n        if(this.state.data==null){\n            return (<div class = \"ui container\">\n                        <NavBar />\n                        <h1> Current Receipts </h1>\n                    </div>)\n        }\n        //ensure search will load modal for a receipt that has not been fetched yet\n        return(\n            <div class = \"ui container\">\n                <NavBar />\n                \n                <h1> Current Receipts </h1>\n                \n                <SearchReceipts setModal ={this.setModal}/>\n                {this.state.success === true?<ReceiptUpdateSuccess/>:null}\n                {this.state.success === false?<ReceiptUpdateUnsuccessful/>:null}\n                <Segment padded>\n                    <Card.Group>\n                        {Object.keys(this.state.data).map((key)=>{\n                            return (\n                                    <LoadReceipts \n                                        key ={key}\n                                        getAll={this.getAll}\n                                        data = {this.state.data[key]} \n                                        setMessage={this.setMessage} \n                                        modalOn={this.state.selected}\n                                        clearModal={this.setModal} />\n                                )\n                        })}                    \n                    </Card.Group>                   \n                </Segment>\n\n\n            </div>\n        )\n    }\n}\n\nexport default Receipts;","import React from 'react';\nimport {Message} from 'semantic-ui-react';\n\nconst RegisterSuccess = () =>(\n    <Message \n        success \n        header = \"Congratulations! You're registered.\"\n        content = \"You may log in.\" \n    />\n\n)\n\nexport default RegisterSuccess;","import React from 'react';\nimport RegisterSuccess from '../messages/RegisterSuccess';\nimport {RegisterError} from './ErrorMessages';\n\nconst RegisterMessage = ({success})=>{\n\n    if(success===true){\n        return <RegisterSuccess />\n    }\n    if(success===false){\n        return <RegisterError />\n    }\n    return null\n}\n\nexport default RegisterMessage;","import React from 'react';\nimport axios from 'axios';\nimport RegisterMessage from '../messages/RegisterMessage'\nimport {Form, Segment, Button, Container, Divider} from 'semantic-ui-react';\n\n\nclass RegisterForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.onChangeEmail= this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            email:'',\n            password:'',\n            loading:false,\n            success:null\n        }\n    }\n\n    onChangeEmail = e => {\n        this.setState({email:e.target.value})\n    }\n    onChangePassword = e =>{\n        this.setState({password:e.target.value})\n    }\n    getSubmit=(e)=>{\n        // submit user input to server for registration\n        var dataSend = {email:this.state.email, password:this.state.password};\n        axios.post('/register',dataSend)\n            .then((res)=>{\n                console.log(res);\n                if(res.data.message == \"taken\"){\n                    this.setState({success:false});\n                }else{\n                    this.setState({success:true});\n                }\n\n            })\n            .catch((error)=>{\n                this.setState({success:false});\n            });\n    };\n    render(){\n        return(\n            <Container fluid>\n                <RegisterMessage success={this.state.success} />\n                <Form onSubmit = {this.getSubmit}>\n                    <Segment>\n                        <Form.Field>\n                            <label>Email</label>\n                            <input onChange = {this.onChangeEmail} value = {this.state.email} type='email' id = 'email' name='email'></input>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Password</label>\n                            <input\n                                type = 'password'\n                                id = 'password'\n                                name = 'password'\n                                value = {this.state.password}\n                                onChange = {this.onChangePassword}\n                            />\n                        </Form.Field>\n                        <Button color = \"green\" type = \"submit\" primary>Submit</Button>\n                    </Segment>\n                </Form>\n\n            </Container>\n\n\n        )\n    }\n}\n\nexport default RegisterForm;\n","import React from 'react';\nimport { Redirect } from 'react-router';\nimport {Link} from 'react-router-dom'\nimport { Segment, Button} from 'semantic-ui-react';\nimport RegisterForm from '../forms/RegisterForm'\n\n\n\nclass Register extends React.Component{\n\n    render(){\n        return(\n            <Segment compact>\n                <Segment basic>\n                    <Button floated = \"right\" onClick={()=>{\n                        this.props.history.push('/')\n                    }}>Back</Button>\n                </Segment>\n                <Segment basic>\n                    <RegisterForm/>\n                </Segment>\n            </Segment>\n\n        ) \n    }\n\n}\n\nexport default Register;\n","import React from 'react';\nimport Authenticate_user from '../../auth/login_auth'\nimport {Route,Redirect, Component} from 'react-router-dom'\n\n\n\nconst PrivateRoute = ({component:Component,...rest}) =>{\n    return(\n        <Route {...rest} render={(props)=>{\n            if(Authenticate_user.isAuth()===true){\n                return <Component {...props}/>\n            }else{\n                return <Redirect to={{pathname:'/',state:{from:props.location}}} />\n            }\n             \n        }}>\n        </Route>\n    )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport Authenticate_user from '../../auth/login_auth'\nimport {Route,Redirect, Component} from 'react-router-dom'\n\n\n\nconst PublicRoute = ({component:Component,...rest})=>{\n    return(\n        <Route {...rest} render={(props)=>{\n            if(Authenticate_user.isAuth()===true){\n                return <Redirect to={{pathname:'/upload',state:{from:props.location}}} />\n            }else{\n                return <Component {...props}/>\n            }\n             \n        }}>\n        </Route>\n    )\n}\nexport default PublicRoute;","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmPassError,OldPassError} from '../messages/ErrorMessages'\n\n\nimport axios from 'axios'\n\n\nexport default class PasswordChangeForm extends React.Component{\n    constructor(props){\n        super(props)\n        this.state ={\n            new:'',\n            confirm:'',\n            old:'',\n            error:null,\n            success:false\n        }\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n        if(this.state.new !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            old:this.state.old,\n            new:this.state.new\n        }\n        axios.put('/change/password',data,{withCredentials:true})\n            .then(res=>{\n                if(res.data.message === 'password-no-match'){\n                    return this.setState({error:'old'})\n                }\n                //password successfully changed, exit form and view message\n                this.props.cancel('password')\n            })\n            .catch(err=>{\n                this.props.handleError('passChange')\n            })\n    }\n\n    handleInput = (e) =>{\n        // sets password input fields in state object\n        var from = e.target.id\n        if(from === \"old\"){\n            this.setState({old:e.target.value})\n        }\n        if(from ===\"new\"){\n            this.setState({new:e.target.value})\n        }\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>old password</label>\n                        <input id = \"old\" type = \"password\" placeholder=\"old password\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='old'?<OldPassError/>:null}\n                    </Form.Field>\n\n                    <Form.Field>\n                        <label>new password</label>\n                        <input id = \"new\" type = \"password\" placeholder=\"new password\" onChange = {this.handleInput}></input>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>confirm new password</label>\n                        <input id =\"confirm\" type = \"password\" placeholder=\"confirm password\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmPassError/>:null}\n                    </Form.Field>\n                    \n\n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}","import React from 'react'\nimport {Button,List,Icon} from 'semantic-ui-react'\nimport PasswordChangeForm from '../forms/PasswordChangeForm'\nimport {PassChangeSuccess} from '../messages/SuccessMessages'\n\n\nclass AccountPasswordChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            success:''\n        }\n\n    }\n    handleClick = () =>{\n        //switch to form\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = (changed) =>{\n        // switch from form to list item\n        if(changed === 'password'){\n            this.setState({button:true,success:'password'})\n        }\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n\n            <div>\n \n                <div>\n                    {this.state.button?\n                        <List.Header onClick = {this.handleClick}>Change Password</List.Header>:\n                        <PasswordChangeForm cancel = {this.handleCancel} handleError = {this.props.handleError}/>\n                    }    \n\n                    {this.state.success==='password'?<PassChangeSuccess/>:null}  \n                </div>\n            </div>\n            \n        )\n    }\n\n}\n\nexport default AccountPasswordChange","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmEmailError, EmailExists} from '../messages/ErrorMessages'\n\n\nimport axios from 'axios'\n\n\nexport default class EmailChangeForm extends React.Component{\n\n    constructor(props){\n        super(props)\n        //this.handleSubmit = this.handleSubmit.bind(this)\n        this.state ={\n            new:'',\n            confirm:'',\n            error:null,\n            success:false\n        }\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n\n        if(this.state.new !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            new:this.state.new\n        }\n        axios.post('/change/email',data,{withCredentials:true})\n            .then(res=>{\n                if(res.data.message==='email-in-use'){\n                    return this.setState({error:'in-use'})\n                }\n                //email successfully changed, exit form\n                this.props.cancel('email')\n            })\n            .catch(err=>{\n                this.props.handleError('emailChange')\n            })\n    }\n\n    handleInput = (e) =>{\n        // retrieves value from target input element\n        var from = e.target.id\n        if(from ===\"new\"){\n            this.setState({new:e.target.value})\n        }\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>new email</label>\n                        <input id = \"new\" type = \"email\" placeholder=\"new email\" onChange = {this.handleInput}></input>\n                        {this.state.error === 'in-use'?<EmailExists/>:null}\n                    </Form.Field>\n                    <Form.Field>\n                        <label>confirm new email</label>\n                        <input id =\"confirm\" type = \"email\" placeholder=\"confirm email\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmEmailError/>:null}\n                    </Form.Field>\n        \n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}","import React from 'react'\nimport {Button,List,Icon} from 'semantic-ui-react'\nimport EmailChangeForm from '../forms/EmailChangeForm'\nimport {EmailChangeSuccess} from '../messages/SuccessMessages'\n\n\nclass AccountEmailChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            success:''\n        }\n\n    }\n    handleClick = () =>{\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = (changed) =>{\n        if(changed === 'email'){\n            this.setState({button:true,success:'email'})\n        }\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n            <div>\n                <div>\n                    {this.state.button?<List.Header onClick = {this.handleClick}>Change Email</List.Header>: <EmailChangeForm cancel = {this.handleCancel} handleError ={this.props.handleError}/>}                    \n                    {this.state.success==='email'?<EmailChangeSuccess/>:null}  \n                </div>\n            </div>\n            \n        )\n    }\n\n}\n\nexport default AccountEmailChange","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmEmailError} from '../messages/ErrorMessages'\nimport Authenticate_user from '../../auth/login_auth'\n\nimport axios from 'axios'\nimport { withRouter } from 'react-router'\n\nclass DeleteAccountForm extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state ={\n            user:Authenticate_user.getUser(),\n            confirm:'',\n            error:null\n        }\n    }\n\n    handleSubmit=(e)=>{\n        //gets value of email input and makes request to server for deletion\n        e.preventDefault()\n        if(this.state.user !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            email:this.state.user\n        }\n        axios.delete('/change/delete',data,{withCredentials:true})\n            .then(res=>{\n                Authenticate_user.logout(()=>{\n                    this.props.history.push('/')\n                })\n                \n            })\n            .catch(err=>{\n                return this.props.handleError('delete')\n            })\n    }\n\n    handleInput = (e) =>{\n        var from = e.target.id\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>Account will be deleted after email is confirmed</label>\n                        <input id =\"confirm\" type = \"email\" placeholder=\"confirm email\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmEmailError/>:null}\n                    </Form.Field>\n        \n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}\n\nexport default withRouter(DeleteAccountForm)","import React from 'react'\nimport {List} from 'semantic-ui-react'\nimport DeleteAccountForm from '../forms/DeleteAccountForm'\n\n//Delete form\n\n\n\nclass AccountDelete extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            error:null\n        }\n\n    }\n    handleClick = () =>{\n        // changes from list item to form\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = () =>{\n        // changes from form to list item\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n            <div>\n                <div>\n                    {this.state.button?\n                        <List.Header onClick = {this.handleClick}>Delete Account</List.Header>:\n                        <DeleteAccountForm cancel = {this.handleCancel} handleError = {this.props.handleError}/>}\n                </div>\n            </div>\n\n        )\n\n    }\n}\n\nexport default AccountDelete\n","import React from 'react'\nimport Authenticate_user from '../../auth/login_auth'\nimport NavBar from '../nav/NavBar'\nimport AccountPasswordChange from '../lists/AccountPasswordChange'\nimport AccountEmailChange from '../lists/AccountEmailChange'\nimport AccountDelete from '../lists/AccountDelete'\nimport {DeleteAccountError,EmailChangeError,PassChangeError} from '../messages/ErrorMessages'\n\nimport {List,Icon, Segment, Container} from 'semantic-ui-react'\n\n\n\nclass Account extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleError = this.handleError.bind(this)\n        this.state = {\n            user:Authenticate_user.getUser(),\n            error:null\n        }\n    }\n\n    handleError = (error) =>{\n        return this.setState({error:error})\n    }\n\n    render(){\n        return(\n            <Container>\n                <NavBar/>\n                <h1>\n                    Welcome, {this.state.user}\n                </h1>\n                <Segment basic>\n                    {this.state.error==='delete'?<DeleteAccountError/>:null}\n                    {this.state.error === 'emailChange'?<EmailChangeError/>:null}\n                    {this.state.error === 'passChange'?<PassChangeError/>:null}\n                </Segment>\n                <List animated verticalAlign = 'middle'>\n                    <List.Item>\n                        <Icon name = \"edit\"/> \n                        <List.Content>\n                            <AccountPasswordChange handleError ={this.handleError}/>                            \n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <Icon name =\"edit\"/>\n                        <List.Content>\n                            <AccountEmailChange handleError = {this.handleError}/>\n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <Icon name =\"trash alternate outline\" color = \"red\"/>\n                        <List.Content>\n                            <AccountDelete handleError = {this.handleError}/>\n                        </List.Content>\n                    </List.Item>\n                </List>\n\n            </Container>\n        )\n    }\n\n}\nexport default Account","import React from \"react\";\nimport {Switch} from 'react-router';\nimport Login from \"./components/pages/Login\";\nimport Upload from \"./components/pages/Upload\";\nimport Receipts from \"./components/pages/Receipts\";\nimport Register from \"./components/pages/Register\";\nimport PrivateRoute from \"./components/private_routes/_check_login\";\nimport PublicRoute from \"./components/public_routes/logged_in_check\";\nimport Authenticate_user from \"./auth/login_auth\";\nimport Account from \"./components/pages/Account\";\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.setUser = this.setUser.bind(this);\n    this.state = {\n      user:Authenticate_user.getUser(),\n      jwt:null\n    }\n  }\n  setUser =()=>{\n    this.setState({user:Authenticate_user.getUser()});\n  }\n  componentDidUpdate(){\n    this.setState({user:Authenticate_user.getUser()});\n    this.setState({jwt:Authenticate_user.getToken()});\n  }\n\n  render(){\n    return(\n      <Switch>\n        <PublicRoute path=\"/\" exact component = {Login}/>\n        <PrivateRoute path =\"/account\" exact component = {Account}/>\n        <PrivateRoute path=\"/upload\" exact component = {Upload}/>\n        <PrivateRoute path=\"/receipts\" exact component = {Receipts}/>\n        <PublicRoute path=\"/register\" exact component = {Register}/>\n      </Switch>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport axios from 'axios';\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./css/root.css\";\n\naxios.defaults.baseURL = process.env.REACT_APP_BASE;\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}