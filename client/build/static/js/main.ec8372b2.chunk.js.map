{"version":3,"sources":["components/messages/ErrorMessages.js","auth/login_auth.js","components/forms/LoginForm.js","components/pages/Login.js","components/nav/NavBar.js","components/forms/UploadForm.js","components/tables/LoadData.js","components/messages/UploadMessages.js","components/pages/Upload.js","components/tables/ReceiptCard.js","components/tables/EditTable.js","components/tables/LoadReceipts.js","components/search/SearchReceipts.js","components/messages/SuccessMessages.js","components/pages/Receipts.js","components/messages/RegisterSuccess.js","components/messages/RegisterMessage.js","components/forms/RegisterForm.js","components/pages/Register.js","components/private_routes/_check_login.js","components/public_routes/logged_in_check.js","components/forms/PasswordChangeForm.js","components/lists/AccountPasswordChange.js","components/forms/EmailChangeForm.js","components/lists/AccountEmailChange.js","components/forms/DeleteAccountForm.js","components/lists/AccountDelete.js","components/pages/Account.js","App.js","index.js"],"names":["RegisterError","Message","negative","header","content","DeleteAccountError","EmailChangeError","PassChangeError","LoginError","ConfirmPassError","OldPassError","ConfirmEmailError","EmailExists","ReceiptUpdateUnsuccessful","this","authenticated","user","user_id","token","uid","callback","axios","post","withCredentials","then","res","catch","err","tk","LoginForm","props","onChangeEmail","e","setState","email","target","value","onChangePassword","password","getSubmit","preventDefault","containedHere","state","data","authentication","loggedIn","current_user","login","history","push","error","bind","Segment","Form","onSubmit","basic","Field","onChange","type","id","name","Button","primary","React","Component","withRouter","Login","toReg","Container","fluid","textAlign","Header","as","Divider","placeholder","Grid","columns","relaxed","stackable","Column","verticalAlign","onClick","Content","vertical","class","to","Authenticate_user","logout","UploadForm","onChangeFile","fileChosen","files","onChangeLoader","bool","loading","onDataProcessed","clearInterval","intervalId","handleData","onSubmitFile","formFile","FormData","append","headers","Authorization","console","log","job","setInterval","checkProgress","handleCompletion","get","jobState","selectFile","fileName","nextSibling","click","status","cell","row","icon","Icon","accept","hidden","size","color","LoadData","onChangeCell","rowId","closest","getAttribute","cellId","prevState","onDelete","row_id","items","saveReceipt","all_data","setComplete","handleEnter","code","otherChange","current","store","date","valueChange","defaultValue","key","item","item_name","price","items_obj","floated","Table","onKeyDown","Row","HeaderCell","Cell","Input","Body","Object","keys","map","d_key","UploadMessages","completion","success","Upload","exists","Popup","trigger","PopupContent","padded","ReceiptCard","handleDelete","operateModal","handleEdit","Card","Meta","extra","EditTable","cellClicked","clicked_id","inputChange","val","cell_id","handleItemDelete","submitChange","dimmer","loader","receipt_id","all_items","item_price","put","setMessage","getAll","receipt_date","clicked_cell","Dimmer","active","Loader","attached","LoadReceipts","rid","deleteLoading","delete","showModal","modalOn","clearModal","edit_table","prevProps","Modal","onClose","open","onOpen","fixed","SearchReceipts","handleSearchChange","theVal","params","search","length","fullResults","rows","ob","results","Search","onResultSelect","setModal","result","onSearchChange","PassChangeSuccess","EmailChangeSuccess","ReceiptUpdateSuccess","Receipts","specific","quantity","createDataObject","sp","dataObj","forEach","check_id","split","prev","selected","m","currentUser","getUser","update","Group","RegisterSuccess","RegisterMessage","RegisterForm","dataSend","message","Register","compact","PrivateRoute","component","rest","render","isAuth","pathname","from","location","PublicRoute","PasswordChangeForm","handleSubmit","new","confirm","old_password","old","new_password","patch","cancel","handleError","handleInput","AccountPasswordChange","handleClick","button","handleCancel","changed","List","EmailChangeForm","AccountEmailChange","DeleteAccountForm","AccountDelete","Account","animated","Item","App","setUser","jwt","getToken","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ec8372b2.chunk.js","sourcesContent":["// Various error messages\n\nimport React from 'react';\nimport {Message} from 'semantic-ui-react';\n\n\nconst RegisterError = () =>(\n    <Message \n        negative \n        header = \"Whoops! This email is taken.\"\n        content = \"Use another email.\" \n    />\n\n)\nconst DeleteAccountError = () =>(\n    <Message\n        negative\n        header = \"Unable to delete account, something went wrong please try again.\"\n        />\n)\nconst EmailChangeError = () =>(\n    <Message\n        negative\n        header = \"Unable to change email, something went wrong, please try again.\"\n        />\n)\nconst PassChangeError = () =>(\n    <Message\n        negative\n        header = \"Unable to change password, something went wrong, please try again.\"\n        />\n)\nconst LoginError = () =>(\n    <Message\n        negative\n        header = \"Incorrect email or password.\"\n        content = \"Try, again.\"\n    />\n)\n\nconst ConfirmPassError =()=>(\n    <Message \n        negative\n        header =\"New password and confirm password don't match\"\n        content =\"Try again\"\n    />\n\n)\nconst OldPassError =()=>(\n    <Message \n        negative\n        header =\"Old password is incorrect\"\n        content =\"Try again\"\n    />\n\n)\nconst ConfirmEmailError =()=>(\n    <Message \n        negative\n        header =\"Emails don't match\"\n        content =\"Try again\"\n    />\n\n)\nconst EmailExists =()=>(\n    <Message\n        negative\n        header = \"Email already exists\"\n        content = \"try different email\"/>\n)\n\nconst ReceiptUpdateUnsuccessful = ()=>(\n    <Message\n        negative\n        header=\"something went wrong with the update, please try again\"/>\n)\n\nexport {\n        RegisterError,\n        LoginError,\n        ConfirmPassError,\n        OldPassError, \n        ConfirmEmailError,\n        EmailExists,\n        ReceiptUpdateUnsuccessful,\n        DeleteAccountError,\n        EmailChangeError,\n        PassChangeError};","\n// instance to track each users' authorization status for rerouting purposes\n\nimport axios from 'axios';\n\nclass AuthenticateUser{\n    constructor(){\n        this.authenticated = false;\n        this.user = null;\n        this.user_id = null;\n        this.token = null;\n    }\n\n    login(user,token,uid, callback){\n        this.authenticated=true;\n        this.token = token;\n        this.user = user;\n        this.user_id = uid\n\n        callback();\n    }\n\n    logout(callback){\n        this.authenticated=false\n        axios.post('/logout',this.user,{withCredentials:true})\n            .then(res=>{\n                this.user=null;\n                this.token=null;\n                callback();\n            })\n            .catch(err=>{\n                return err\n            })\n    }\n    isAuth(){\n        return this.authenticated\n    }\n    getUser(){\n        return this.user\n    }\n    setToken(tk){\n        this.token = tk\n\n    }\n    setUser(user){\n        this.user = user\n    }\n}\n\nexport default new AuthenticateUser();","import React from 'react';\nimport axios from 'axios';\nimport {withRouter} from 'react-router-dom';\nimport {LoginError} from '../messages/ErrorMessages';\nimport {Button, Form, Segment} from 'semantic-ui-react';\nimport current_user from '../../auth/login_auth';\n\n\n\n\nclass LoginForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.onChangeEmail= this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.getSubmit = this.getSubmit.bind(this);\n\n        this.state = {\n            email:'',\n            password:'',\n            loggedIn:null,\n        }\n    }\n\n    onChangeEmail = e => {\n        this.setState({email:e.target.value})\n    }\n    onChangePassword = e =>{\n        this.setState({password:e.target.value})\n    }\n    getSubmit=(e)=>{\n        e.preventDefault();\n        var containedHere = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        // request to authorize user\n        axios.post('/login',containedHere,{withCredentials:true})\n            .then(res=>{\n                if(res.data.authentication === \"mismatch\"){\n                    this.setState({loggedIn:false})\n                }\n                else if(res.data.authentication===\"no-match\"){\n                    this.setState({loggedIn:false})\n                }\n                else{\n                    // take user to upload page\n                    current_user.login(res.data.user,res.data.token,res.data.uid,()=>{\n                        this.props.history.push('/upload')\n                    });\n                }\n\n            })\n            .catch(error=>{\n                this.props.history.push('/');\n            });\n    };\n\n    render(){\n        return(\n            <Segment>\n                {this.state.loggedIn===false?<LoginError/>:null}\n                <Form onSubmit = {this.getSubmit}>\n                    <Segment basic>\n                        <Form.Field>\n                            <label>Email</label>\n                            <input onChange = {this.onChangeEmail} value = {this.state.email} type='email' id = 'email' name='email'></input>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Password</label>\n                            <input\n                                type = 'password'\n                                id = 'password'\n                                name = 'password'\n                                value = {this.state.password}\n                                onChange = {this.onChangePassword}\n                            >\n                            </input>\n                        </Form.Field>\n                        <Button type = \"submit\" primary>Submit</Button>\n                    </Segment>\n                </Form>\n            </Segment>\n\n\n        )\n    }\n}\n\nexport default withRouter(LoginForm);\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport LoginForm from '../forms/LoginForm';\nimport {Button, Divider,Grid,Segment,Container, Header} from 'semantic-ui-react'\n\n\n\nclass Login extends React.Component {\n    \n    constructor(props){\n        super(props);\n        \n    }\n\n    toReg = () =>{\n        this.props.history.push('/register')\n    }\n    render(){\n        return(\n            <Container fluid>\n                <Container textAlign='center'>\n                  <Header as='h1'>Receipt Tracker</Header>\n                  <Divider></Divider>  \n                </Container>\n                \n                <Container>\n                    <Segment placeholder>\n                        <Grid columns = {2} relaxed= 'very' stackable>\n                            <Grid.Column>\n                                <LoginForm />                    \n                            </Grid.Column>\n                            <Grid.Column verticalAlign = 'middle'>\n                                <Segment>\n                                    Don't have an account?\n                                    <Button primary onClick={this.toReg}>\n                                        <Button.Content>\n                                            Register\n                                        </Button.Content>\n                                    </Button>\n                                </Segment>                    \n                            </Grid.Column>\n                        </Grid> \n                        <Divider vertical></Divider>               \n                    </Segment>                \n                </Container>                \n            </Container>\n\n\n\n        )    \n    }\n\n}\n\nexport default withRouter(Login);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Authenticate_user from '../../auth/login_auth';\nimport {withRouter} from 'react-router-dom';\n\n\n\n\nconst NavBar = props =>{\n    return(\n        <div class = \"ui four item menu\">\n            <Link class = \"item\" to =\"/account\">Account</Link>\n            <Link class = \"item\" to =\"/upload\">Upload</Link>\n            <Link class = \"item\" to =\"/receipts\">Receipts</Link>\n            <Link class = \"item\" onClick={()=>{Authenticate_user.logout(()=>\n                props.history.push('/'))}}>Log Out</Link>\n        </div>\n    )\n}\n\nexport default withRouter(NavBar);\n","\n// Upload form for image file\n\nimport React from 'react';\nimport axios from 'axios';\nimport {Button,Form, Header,Container, Segment, Icon} from 'semantic-ui-react'\nimport current_user from '../../auth/login_auth'\n\n\n\nclass UploadForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.onChangeFile = this.onChangeFile.bind(this);\n        this.onSubmitFile = this.onSubmitFile.bind(this);\n        this.onChangeLoader = this.onChangeLoader.bind(this);\n        this.onDataProcessed = this.onDataProcessed.bind(this);\n        this.checkProgress = this.checkProgress.bind(this);\n        this.state = {\n            fileChosen:null,\n            intervalId:null,\n            loading:false,\n            job:{\n                id:null,\n                status:null\n            },\n            cell:{\n                row:'',\n                name:''\n            },\n            fileName:null\n        }\n        this.user_id = current_user.user_id;\n\n    }\n    onChangeFile = (e)=>{\n        this.setState({fileChosen:e.target.files[0]})\n    }\n    onChangeLoader = (bool)=>{\n        this.setState({loading:bool});\n    }\n\n    onDataProcessed = (data)=>{\n        clearInterval(this.state.intervalId);\n        return this.props.handleData(data);\n    }\n\n    onSubmitFile = (e)=>{\n        e.preventDefault();\n        const formFile = new FormData();\n        formFile.append('avatar',this.state.fileChosen);\n\n        const headers = {\n            headers:{'content-type':'multipart/form-data'},\n            Authorization:this.props.token,\n            withCredentials:true\n        }\n        this.onChangeLoader(true);\n\n        // submit image file to server for processing\n        axios.post(`/users/${this.user_id}/uploads`,formFile,headers)\n            .then(res=>{\n                console.log('res from upload', res);\n                this.setState({job:{id:res.data.data.id}});\n                this.setState({intervalId:setInterval(this.checkProgress, 1500)});\n            })\n            .catch(error=>{\n\n                return this.props.handleCompletion('INCOMPLETE')\n\n            });\n\n    }\n\n    checkProgress = ()=>{\n        const headers = {\n            Authorization:this.props.token,\n            withCredentials:true\n        }\n        axios.get(`/users/${this.user_id}/uploads/${this.state.job.id}`,headers)\n\n        .then(res=>{\n            console.log('checking progress', res.data);\n            if(res.data.jobState === 'completed'){\n                this.onChangeLoader(false);\n                this.onDataProcessed(res.data.data.data);\n            }else if(res.data.jobState === 'failed'){\n                clearInterval(this.state.intervalId);\n                this.props.handleCompletion('INCOMPLETE');\n                \n            }\n            \n        })\n        .catch(error=>{\n            clearInterval(this.state.intervalId);\n            return this.props.handleCompletion('INCOMPLETE')\n\n        });\n    }\n    selectFile = (e)=>{\n        this.setState({fileName:''})\n        e.target.nextSibling.click()\n\n    }\n    render(){\n        return(\n            <Container textAlign=\"center\">\n                <Segment basic>\n                    <Header icon>\n                        <Icon name = \"file image outline\"/>\n                    </Header>\n                    <Form id = \"upload-form\" loading ={this.state.loading}>\n                        <Form.Field>\n                            <label>\n                               {this.state.fileChosen?this.state.fileChosen.name:null}\n                            </label>\n\n                            <Button onClick={this.selectFile}>Select File</Button>\n\n                            <input \n                                id = \"fileUpload\" \n                                onChange = {this.onChangeFile} \n                                type = \"file\" \n                                name = \"receipt\" \n                                accept='.png, .jpg, .jpeg'\n                                hidden/>\n                        </Form.Field>\n\n                        <Button size='medium' color =\"blue\" type =\"submit\" onClick = {this.onSubmitFile}>Upload</Button>\n                    </Form>\n                </Segment>\n            </Container>\n\n\n\n        )\n    }\n\n};\nexport default UploadForm\n","import React from 'react'\nimport {Table,Input,Button} from 'semantic-ui-react'\nimport axios from 'axios'\nimport current_user from '../../auth/login_auth'\n\n\nclass LoadData extends React.Component{\n    //data.data.items[0] ... [1]...\n    constructor(props){\n        super(props);\n        this.valueChange = this.valueChange.bind(this)\n        this.onChangeCell = this.onChangeCell.bind(this)\n        this.onDelete = this.onDelete.bind(this)\n        this.saveReceipt = this.saveReceipt.bind(this)\n        this.handleEnter = this.handleEnter.bind(this)\n        this.state = {\n            cell:{\n                row:'',\n                name:''\n            },\n            loading:false\n        }\n        this.user_id = current_user.user_id\n    }\n    onChangeCell = (e) =>{\n        //get id of clicked cell\n        const rowId = e.target.closest('tr').getAttribute('id')\n        const cellId = e.target.getAttribute('id')\n        if(cellId == null){\n            return false\n        }\n        this.setState(prevState=>({\n            ...prevState,\n            cell:{\n                row:rowId,\n                name:cellId,\n            }\n        }))\n\n    }\n    onDelete = (e) =>{\n        var row_id= e.target.closest('tr').id\n        var {items} = {...this.props.data}\n        delete items[row_id]\n        this.props.handleData({items})\n    }\n\n    saveReceipt = () =>{\n        this.setState({loading:true});\n        //make axios req\n        var all_data = this.props.data\n        var headers = {\n            withCredentials:true\n        }\n        axios.post(`/users/${this.user_id}/receipts`,all_data,headers)\n        .then(res=>{\n\n            this.setState({loading:false},()=>{\n                //no error--false\n                this.props.setComplete(false)\n            })\n            //this.props.history.push('/upload')\n        })\n        .catch(error=>{\n            console.log(error)\n            this.props.setComplete(true)\n        })\n\n    }\n\n    handleEnter = (e) =>{\n        if(e.code === 'Enter'){\n            this.setState({cell:{row:'',name:''}})\n        }\n    }\n    otherChange = (e) =>{\n        var current = e.target.value\n        var id = e.target.id\n        var {store,date} = {...this.props.data}\n        if(id ==='store'){\n            store = current\n        }else{\n            date = current\n        }\n        \n        this.props.handleData({store,date})\n    }\n\n    valueChange = (e) =>{\n\n        var current = e.target.defaultValue\n        var id = e.target.id\n        var key = e.target.closest('tr').id\n        var {items} = {...this.props.data}\n\n        for(var item in items){\n\n            if(items[item].item_name === current && id === 'item' && key == item){\n                items[item].item_name = e.target.value\n            }\n            if(items[item].price === current && id ==='price' && key == item){\n                items[item].price = e.target.value\n            }\n        }\n        this.props.handleData({items})\n    }\n    render(){\n        if(this.props.data==null){\n            return(<div></div>)\n        }\n        const date = this.props.data.date\n        const store = this.props.data.store\n        const items_obj = this.props.data.items;\n        return(\n            <div>\n                <Button floated ='right' color='green'onClick={this.saveReceipt} basic loading = {this.state.loading}>Save Receipt</Button>\n                <Table onKeyDown = {this.handleEnter}>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>Date</Table.HeaderCell>\n                            <Table.HeaderCell>Store</Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                        </Table.Row>\n                        <Table.Row onClick = {this.onChangeCell} id = 'initial'>\n                        {this.state.cell.name == 'date'?\n                                        <Table.Cell><Input defaultValue = {date} id = \"date\" onChange = {this.otherChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {date} id =\"date\">{date}</Table.Cell>}\n                        {this.state.cell.name == 'store'?\n                                        <Table.Cell><Input defaultValue = {store} id = \"store\" onChange = {this.otherChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {store} id =\"store\">{store}</Table.Cell>}\n                        </Table.Row>\n                        <Table.Row>\n                            <Table.HeaderCell>Item</Table.HeaderCell>\n                            <Table.HeaderCell>Price</Table.HeaderCell>\n                            <Table.HeaderCell></Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                        {Object.keys(items_obj).map((d_key)=>{\n                            var item = items_obj[d_key].item_name\n                            var price = items_obj[d_key].price\n                            return(\n                                <Table.Row onClick = {this.onChangeCell} key= {d_key} id = {d_key}>\n                                    {this.state.cell.row==d_key && this.state.cell.name == 'item'?\n                                        <Table.Cell><Input defaultValue = {item} id = \"item\" onChange = {this.valueChange}></Input></Table.Cell>:\n                                        <Table.Cell value = {item} name = {item} id =\"item\">{item}</Table.Cell>}\n                                    {this.state.cell.row==d_key && this.state.cell.name == 'price'?<Table.Cell><Input defaultValue = {price} id = \"price\" onChange = {this.valueChange}></Input></Table.Cell>:<Table.Cell value = {price} name = {price} id = \"price\">{price}</Table.Cell>}\n                                    <Table.Cell><Button floated ='right' color ='red' onClick = {this.onDelete}>Delete Item</Button></Table.Cell>\n                                </Table.Row>\n                            )})\n                        }\n                    </Table.Body>\n                </Table>\n            </div>\n        )    \n\n\n    }\n}\n\n\n\nexport default LoadData;","import react from 'react'\nimport {Message} from 'semantic-ui-react'\n\n\n\n\nexport const UploadMessages = ({completion})=>{\n\n    if(completion==='COMPLETED'){\n        return (<Message success header = 'receipt uploaded successfully' content ='viewable in receipts'/>)\n    }\n    else if(completion === 'INCOMPLETE'){\n        return (<Message negative header = 'something went wrong try again.'/>)\n    }\n    else{\n       return (null)\n    }\n    \n}\n","import React from 'react';\nimport NavBar from '../nav/NavBar'\nimport UploadForm from '../forms/UploadForm'\nimport LoadData from '../tables/LoadData'\nimport {UploadMessages} from '../messages/UploadMessages'\nimport {Popup,Button, PopupContent, Segment,Container} from 'semantic-ui-react'\n\n\n\nclass Upload extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleData = this.handleData.bind(this)\n        this.handleCompletion = this.handleCompletion.bind(this)\n        this.state = {\n            data:{\n                email:'',\n                items:{},\n                store:'',\n                date:''\n            },\n            exists:null,\n            completion:''\n        }\n    }\n    handleData = ({email,items,store,date}) =>{\n\n        this.setState(prevState=>(\n                {\n                    ...prevState,\n                    data:{\n                        email: email? email : prevState.data.email,\n                        items: items? items: prevState.data.items,\n                        store: store? store : prevState.data.store,\n                        date : date? date: prevState.data.date\n                    },\n                    exists:true\n                        \n                }\n            )\n        )\n    }\n\n    handleCompletion = (error) =>{\n        if(error){\n           return this.setState({completion:\"INCOMPLETE\"}) \n        }\n        this.setState({completion:\"COMPLETED\"})\n    }\n\n    render(){\n        return(\n            <div class = \"ui container\">\n                <NavBar />\n                <UploadMessages completion = {this.state.completion}/>\n                <h1> Upload Receipt </h1>\n                <Container textAlign=\"right\">\n                    <Popup trigger = {<Button icon=\"question\"></Button>}>\n                        <PopupContent>\n                            <Segment basic padded>\n                                + click cell to edit data <br/>\n                                + save data\n                            </Segment>\n\n                        </PopupContent>\n                    </Popup>                        \n                </Container>\n                \n\n                <Segment>\n                  <UploadForm handleData = {this.handleData} handleCompletion = {this.handleCompletion}/>  \n                </Segment>\n                <Segment padded=\"very\">\n                    {this.state.exists?<LoadData handleData = {this.handleData} data = {this.state.data} setComplete = {this.handleCompletion}/>:null}   \n                </Segment>\n                \n            </div>\n        \n        )\n    }\n\n}\n\nexport default Upload;","import React from 'react'\nimport {Card,Button,Segment} from 'semantic-ui-react'\n\n\nvar ReceiptCard = ({store,date,handleDelete,operateModal,loading,handleEdit}) =>(\n    <Segment basic>\n        <Card>\n            <Card.Content>\n                <Card.Header>{store}</Card.Header>\n                <Card.Meta>{date}</Card.Meta>                            \n            </Card.Content>\n            <Card.Content extra>\n                <div class = \"ui three buttons\">\n                    <Button id = \"view\" onClick = {operateModal} color = \"green\">\n                        View\n                    </Button>\n                    <Button id = \"edit\" color = \"black\" onClick={handleEdit}>\n                        Edit\n                    </Button>                \n                    <Button id = \"delete\" onClick={handleDelete} color = \"red\" loading={loading}>\n                        Delete\n                    </Button>\n\n                </div>\n            </Card.Content>\n        </Card>\n    </Segment>\n)\nexport default ReceiptCard","import axios from 'axios'\nimport React from 'react'\nimport {Table,Button,Input, Container,Dimmer,Loader} from 'semantic-ui-react'\nimport current_user from '../../auth/login_auth'\n\n\n\nclass EditTable extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            items:this.props.data.items,\n            store:this.props.data.store,\n            date:this.props.data.receipt_date,\n            key:'',\n            clicked_id:'',\n            dimmer:false,\n            loader:false\n        }\n        this.user_id = current_user.user_id\n    }\n    cellClicked = (e)=>{\n        var id = e.target.closest('tr').id\n        var name = e.target.id\n\n        this.setState({key:id,clicked_id:name})\n    }\n\n    inputChange = (e)=>{\n        var val = e.target.value\n        var key = this.state.key\n        var cell_id = e.target.id\n        this.setState((prevState)=>{\n            \n            if(cell_id ===\"store\"){\n                prevState.store = val\n            }else if(cell_id===\"date\"){\n                prevState.date = val\n            }else{\n                prevState.items[key][cell_id] = val\n            }\n            \n            return prevState\n        }) \n\n\n    }\n\n    handleEnter = (e) =>{\n        if(e.code ==='Enter'){\n            this.setState({clicked_id:''})\n        }\n        \n    }\n    handleItemDelete = (e) =>{\n        var id = e.target.closest('tr').id\n        this.setState(prevState=>{\n            delete prevState.items[id]\n            return prevState\n        })\n    }\n    submitChange = () =>{\n        this.setState({dimmer:true,loader:true})\n        var store = this.state.store\n        var date = this.state.date\n        var receipt_id = this.props.data.receipt_id\n        var items = Object.keys(this.state.items).map((key)=>{\n            var all_items = this.state.items\n            return [all_items[key].item_name,all_items[key].item_price,this.props.data.receipt_id]\n        })\n        axios.put(`/users/${this.user_id}/receipts/${receipt_id}`,{store,date,items,receipt_id},{withCredentials:true})\n            .then(res=>{\n                this.setState({dimmer:false,loader:false},()=>{\n                    this.props.setMessage('success')\n                    this.props.operateModal()\n                })\n                return this.props.getAll()\n            })\n            .catch(err=>{\n                return this.setState({dimmer:false,loader:false},()=>{\n                    this.props.setMessage('error')\n                })\n            })\n    }\n\n    render(){\n        var clicked_cell =this.state.key+this.state.clicked_id \n\n        return(\n            <Container>\n                <Dimmer active = {this.state.dimmer}>\n                    <Loader active={this.state.loader}/>\n                </Dimmer>  \n                    <Table onKeyDown = {this.handleEnter} attached='top'>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>\n                                    Store\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    Date\n                                </Table.HeaderCell>                          \n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            <Table.Row id =\"header\">\n                                <Table.Cell id = \"store\" onClick={this.cellClicked}>\n                                    {this.state.clicked_id === 'store'?<Input id =\"store\" defaultValue={this.state.store} onChange={this.inputChange}></Input>:this.state.store}\n                                </Table.Cell>\n                                <Table.Cell id = \"date\" onClick = {this.cellClicked}>\n                                    {this.state.clicked_id === 'date'?<Input id =\"date\" defaultValue ={this.state.date} onChange={this.inputChange}/>:this.state.date}\n                                </Table.Cell>\n                            </Table.Row>                           \n                        </Table.Body>\n                    </Table>\n                    <Table onKeyDown = {this.handleEnter} attached='bottom'>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>\n                                    Item\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    Price\n                                </Table.HeaderCell>\n                                <Table.HeaderCell>\n                                    \n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            {Object.keys(this.state.items).map((key)=>{\n                                var item_name = this.state.items[key].item_name\n                                var price = this.state.items[key].item_price\n                                return(\n                                    <Table.Row id = {key} key = {key} >\n                                        {clicked_cell === (key+\"item_name\")?<Input id = \"item_name\" onChange = {this.inputChange} defaultValue = {item_name}></Input>:<Table.Cell id = \"item_name\" onClick ={this.cellClicked}>{item_name}</Table.Cell>}\n                                        {clicked_cell === (key+\"item_price\")?<Input id = \"item_price\" onChange ={this.inputChange} defaultValue = {price}></Input>:<Table.Cell id = \"item_price\" onClick ={this.cellClicked}>{price}</Table.Cell>}\n                                        <Table.Cell><Button size =\"small\" onClick = {this.handleItemDelete} color = \"red\">Delete Item</Button></Table.Cell>\n                                    </Table.Row>\n                                )\n                            })}                            \n                        </Table.Body>\n\n                    </Table>\n                    <Button floated = \"right\" onClick = {this.submitChange} color = \"green\">Submit Changes</Button>\n            </Container> \n        )\n    }\n}\n\nexport default EditTable","import React from 'react'\nimport {Table, Card,Button, Modal,Container} from 'semantic-ui-react'\nimport ReceiptCard from './ReceiptCard'\nimport axios from 'axios'\nimport EditTable from './EditTable'\nimport current_user from '../../auth/login_auth'\n\n\nclass LoadReceipts extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleDelete = this.handleDelete.bind(this)\n        this.operateModal = this.operateModal.bind(this)\n        this.handleEdit = this.handleEdit.bind(this)\n        this.state = {\n            data:this.props.data,\n            deleteLoading:false,\n            showModal:false,\n            edit_table:false\n        }\n        this.user_id = current_user.user_id\n    }\n\n    componentDidMount(){\n        if(this.props.modalOn === this.state.data.receipt_id){\n            this.setState({showModal:true})\n        }\n    }\n\n    componentDidUpdate(prevProps){\n        if(this.props.modalOn !== prevProps.modalOn){\n            if(this.props.modalOn === this.state.data.receipt_id){\n               return this.setState({showModal:true}) \n            }\n        }\n    }\n\n    handleDelete = (e) =>{\n        \n        var rid = this.state.data.receipt_id\n        console.log('rid', rid)\n        this.setState({deleteLoading:true})\n\n        var header = {headers:{\n            withCredentials:true}\n        }\n        axios.delete(`/users/${this.user_id}/receipts/${rid}`, header)\n        .then(res=>{\n            this.setState({deleteLoading:false})\n            return this.props.getAll()\n        })\n        .catch(err=>console.log(err))\n    }\n\n    operateModal = () =>{\n        this.setState((prevState)=>{\n            return {\n                ...prevState,\n                showModal:prevState.showModal?false:true,\n                }\n        },()=>{\n            if(this.state.showModal === true){\n                if(this.props.modalOn === this.state.data.receipt_id){\n                    this.props.clearModal('')\n                }\n            }\n        })\n        \n    }\n\n    handleEdit = () =>{\n        this.setState({edit_table:true})\n    }\n    render(){\n        var store = this.props.data.store\n        var date = this.props.data.receipt_date\n        return(\n                <div>\n                    <ReceiptCard\n                        store = {store}\n                        date = {date}\n                        handleDelete = {this.handleDelete}\n                        handleEdit = {this.handleEdit}\n                        operateModal = {this.operateModal}\n                        loading = {this.state.deleteLoading}/>\n\n                    <Modal\n                        onClose = {()=>{\n                            this.setState({edit_table:false})\n                        }}\n                        open = {this.state.edit_table}>\n                        <EditTable\n                            data = {this.props.data}\n                            setMessage = {this.props.setMessage}\n                            operateModal = {()=>\n                            (this.setState({edit_table:false}))}\n                            getAll = {this.props.getAll}\n                            />\n                            \n                    </Modal>\n\n                                     \n                    <Modal\n                        onClose = {this.operateModal}\n                        onOpen = {this.operateModal}\n                        open = {this.state.showModal}\n                        >\n                        <Container>\n                            <Table fixed basic>\n                                <Table.Header>\n                                    <Table.Row>\n                                            <Table.HeaderCell>\n                                                Item\n                                            </Table.HeaderCell>\n                                            <Table.HeaderCell>\n                                                Price\n                                            </Table.HeaderCell>                          \n                                    </Table.Row>                                    \n                                </Table.Header>\n\n                                <Table.Body>\n                                    {Object.keys(this.props.data.items).map((key)=>{\n                                        return(\n                                            <Table.Row id = \"item\" key = {key}>\n                                                <Table.Cell id = \"item_name\">{this.props.data.items[key].item_name}</Table.Cell>\n                                                <Table.Cell id = \"price\" >{this.props.data.items[key].item_price}</Table.Cell>\n                                            </Table.Row>\n                                        )\n                                    })}                                    \n                                </Table.Body>\n\n                            </Table>\n                        </Container>                   \n                    </Modal>                   \n                </div>\n                \n\n\n        )\n    }\n}\n\n\nexport default LoadReceipts","import axios from 'axios'\nimport React from 'react'\nimport {Search} from 'semantic-ui-react'\nimport current_user from '../../auth/login_auth'\n\n\n\nclass SearchReceipts extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleSearchChange = this.handleSearchChange.bind(this)\n        this.state={\n            results:[],\n            loading:false\n        }\n        this.user_id = current_user.user_id\n    }\n\n    handleSearchChange = (e)=>{\n        var theVal =  e.target.value\n        var params = {\n            params:{\n                search:true,\n                value:theVal\n            }\n        }\n\n        if(theVal.length > 0){\n            this.setState({loading:true})\n            axios.get(`/users/${this.user_id}/receipts`,params,{withCredentials:true})\n                .then((res)=>{\n                    var fullResults = res.data.data.rows.map((ob)=>{\n                        return {...ob,key:ob.price}\n                    })\n                    this.setState({results:fullResults,loading:false})\n                })\n                .catch(err=>{\n                    console.log(err)\n                })\n\n        }\n\n    }\n\n\n\n    render(){\n        return(\n            <Search\n                loading={this.state.loading}\n                onResultSelect={(e,data)=>{\n                    return this.props.setModal(data.result.price)\n                }}\n                onSearchChange = {this.handleSearchChange}\n                results = {this.state.results}\n            />\n        )\n    }\n}\n\nexport default SearchReceipts","import React from 'react'\nimport {Message} from 'semantic-ui-react'\n\n\n\nconst PassChangeSuccess = () =>(\n    <Message\n        success\n        header = \"Password changed successfully\"\n    />\n)\n\nconst EmailChangeSuccess = () =>(\n    <Message\n        success\n        header = \"Email changed successfully\"/>\n)\nconst ReceiptUpdateSuccess = ()=>(\n    <Message\n        success\n        header = \"Receipt updated successfully\"/>\n)\nexport {PassChangeSuccess,EmailChangeSuccess,ReceiptUpdateSuccess}","import React from 'react';\nimport NavBar from '../nav/NavBar';\nimport Authenticate_user from '../../auth/login_auth';\nimport axios from 'axios';\nimport LoadReceipts from '../tables/LoadReceipts'\nimport SearchReceipts from '../search/SearchReceipts'\nimport { ReceiptUpdateSuccess } from '../messages/SuccessMessages'\nimport {ReceiptUpdateUnsuccessful} from '../messages/ErrorMessages'\nimport current_user from '../../auth/login_auth'\nimport {Card,Segment} from 'semantic-ui-react'\n\n\nclass Receipts extends React.Component{\n    constructor(props){\n        super(props);\n        this.getAll = this.getAll.bind(this)\n        this.createDataObject = this.createDataObject.bind(this)\n        this.setMessage = this.setMessage.bind(this)\n        this.setModal = this.setModal.bind(this)\n        this.state ={\n            currentUser: Authenticate_user.getUser(),\n            data:null,\n            update:false,\n            success:null,\n            selected:''\n\n        }\n        this.user_id = current_user.user_id\n    }\n    //make axios request to get all past 50? receipts\n    getAll = (specific) => {\n        \n        var headers = {\n            withCredentials:true\n        }\n        var params;\n        if(specific){\n            params = {params:{specific:specific}}\n            \n        }else{\n            params = {params:{quantity:10}}\n        }\n        axios.get(`/users/${this.user_id}/receipts`,params,headers)\n            .then(res=>{\n                var {data} = res.data\n                console.log(data);\n                return this.createDataObject(data,specific)\n            })\n            .catch(err=>{\n                return this.setState({success:false})\n            })\n    }\n    createDataObject = (data,sp) =>{\n        var dataObj = {}\n\n        Object.keys(data).forEach((key)=>{\n            var check_id = data[key].receipt_id\n            if(!(check_id in dataObj)){\n                dataObj[check_id] = {\n                    store: data[key].store,\n                    receipt_date:data[key].receipt_date.split('T')[0],\n                    receipt_id: data[key].receipt_id,\n                    items:[]\n                }\n            }\n            dataObj[check_id][\"items\"].push({\n                item_name:data[key].item_name,\n                item_price:data[key].item_price\n            })\n        })\n        \n        this.setState((prev)=>{\n            if(sp){\n                return {...prev,data:dataObj,selected:sp}\n            }\n            return {...prev,data:dataObj,selected:''}\n        })\n        \n    }\n\n    componentDidMount(){\n        this.getAll()\n    }\n\n    setMessage = (m)=>{\n        if(m === \"success\"){\n            return this.setState({success:true})\n        }\n        if(m === \"error\"){\n            return this.setState({success:false})\n        }\n        this.setState({success:null})\n    }\n\n    setModal = (id)=>{\n        if(!(this.state.data[id]) && id!==''){\n            return this.getAll(id)\n        }\n        return this.setState({selected:id})\n    }\n\n    render(){\n        if(this.state.data==null){\n            return (<div class = \"ui container\">\n                        <NavBar />\n                        <h1> Current Receipts </h1>\n                    </div>)\n        }\n        //ensure search will load modal for a receipt that has not been fetched yet\n        return(\n            <div class = \"ui container\">\n                <NavBar />\n                \n                <h1> Current Receipts </h1>\n                \n                <SearchReceipts setModal ={this.setModal}/>\n                {this.state.success === true?<ReceiptUpdateSuccess/>:null}\n                {this.state.success === false?<ReceiptUpdateUnsuccessful/>:null}\n                <Segment padded>\n                    <Card.Group>\n                        {Object.keys(this.state.data).map((key)=>{\n                            return (\n                                    <LoadReceipts \n                                        key ={key}\n                                        getAll={this.getAll}\n                                        data = {this.state.data[key]} \n                                        setMessage={this.setMessage} \n                                        modalOn={this.state.selected}\n                                        clearModal={this.setModal}/>\n                                )\n                        })}                    \n                    </Card.Group>                   \n                </Segment>\n\n\n            </div>\n        )\n    }\n}\n\nexport default Receipts;","import React from 'react';\nimport {Message} from 'semantic-ui-react';\n\nconst RegisterSuccess = () =>(\n    <Message \n        success \n        header = \"Congratulations! You're registered.\"\n        content = \"You may log in.\" \n    />\n\n)\n\nexport default RegisterSuccess;","import React from 'react';\nimport RegisterSuccess from '../messages/RegisterSuccess';\nimport {RegisterError} from './ErrorMessages';\n\nconst RegisterMessage = ({success})=>{\n\n    if(success===true){\n        return <RegisterSuccess />\n    }\n    if(success===false){\n        return <RegisterError />\n    }\n    return null\n}\n\nexport default RegisterMessage;","import React from 'react';\nimport axios from 'axios';\nimport RegisterMessage from '../messages/RegisterMessage'\nimport {Form, Segment, Button, Container, Divider} from 'semantic-ui-react';\n\n\nclass RegisterForm extends React.Component{\n    constructor(props){\n        super(props);\n        this.onChangeEmail= this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            email:'',\n            password:'',\n            loading:false,\n            success:null\n        }\n    }\n\n    onChangeEmail = e => {\n        this.setState({email:e.target.value})\n    }\n    onChangePassword = e =>{\n        this.setState({password:e.target.value})\n    }\n    getSubmit=(e)=>{\n        // submit user input to server for registration\n        var dataSend = {email:this.state.email, password:this.state.password};\n        axios.post('/users',dataSend)\n            .then((res)=>{\n                console.log(res);\n                if(res.data.message == \"taken\"){\n                    this.setState({success:false});\n                }else{\n                    this.setState({success:true});\n                }\n\n            })\n            .catch((error)=>{\n                this.setState({success:false});\n            });\n    };\n    render(){\n        return(\n            <Container fluid>\n                <RegisterMessage success={this.state.success} />\n                <Form onSubmit = {this.getSubmit}>\n                    <Segment>\n                        <Form.Field>\n                            <label>Email</label>\n                            <input onChange = {this.onChangeEmail} value = {this.state.email} type='email' id = 'email' name='email'></input>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Password</label>\n                            <input\n                                type = 'password'\n                                id = 'password'\n                                name = 'password'\n                                value = {this.state.password}\n                                onChange = {this.onChangePassword}\n                            />\n                        </Form.Field>\n                        <Button color = \"green\" type = \"submit\" primary>Submit</Button>\n                    </Segment>\n                </Form>\n\n            </Container>\n\n\n        )\n    }\n}\n\nexport default RegisterForm;\n","import React from 'react';\nimport { Redirect } from 'react-router';\nimport {Link} from 'react-router-dom'\nimport { Segment, Button} from 'semantic-ui-react';\nimport RegisterForm from '../forms/RegisterForm'\n\n\n\nclass Register extends React.Component{\n\n    render(){\n        return(\n            <Segment compact>\n                <Segment basic>\n                    <Button floated = \"right\" onClick={()=>{\n                        this.props.history.push('/')\n                    }}>Back</Button>\n                </Segment>\n                <Segment basic>\n                    <RegisterForm/>\n                </Segment>\n            </Segment>\n\n        ) \n    }\n\n}\n\nexport default Register;\n","import React from 'react';\nimport Authenticate_user from '../../auth/login_auth'\nimport {Route,Redirect, Component} from 'react-router-dom'\n\n\n\nconst PrivateRoute = ({component:Component,...rest}) =>{\n    return(\n        <Route {...rest} render={(props)=>{\n            if(Authenticate_user.isAuth()===true){\n                return <Component {...props}/>\n            }else{\n                return <Redirect to={{pathname:'/',state:{from:props.location}}} />\n            }\n             \n        }}>\n        </Route>\n    )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport Authenticate_user from '../../auth/login_auth'\nimport {Route,Redirect, Component} from 'react-router-dom'\n\n\n\nconst PublicRoute = ({component:Component,...rest})=>{\n    return(\n        <Route {...rest} render={(props)=>{\n            if(Authenticate_user.isAuth()===true){\n                return <Redirect to={{pathname:'/upload',state:{from:props.location}}} />\n            }else{\n                return <Component {...props}/>\n            }\n             \n        }}>\n        </Route>\n    )\n}\nexport default PublicRoute;","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmPassError,OldPassError} from '../messages/ErrorMessages'\nimport current_user from '../../auth/login_auth'\n\n\nimport axios from 'axios'\n\n\nexport default class PasswordChangeForm extends React.Component{\n    constructor(props){\n        super(props)\n        this.state ={\n            new:'',\n            confirm:'',\n            old:'',\n            error:null,\n            success:false\n        }\n        this.user_id = current_user.user_id\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n        if(this.state.new !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            old_password:this.state.old,\n            new_password:this.state.new\n        }\n        axios.patch(`/users/${this.user_id}`,data,{withCredentials:true})\n            .then(res=>{\n                if(res.data.message === 'password-no-match'){\n                    return this.setState({error:'old'})\n                }\n                //password successfully changed, exit form and view message\n                this.props.cancel('password')\n            })\n            .catch(err=>{\n                this.props.handleError('passChange')\n            })\n    }\n\n    handleInput = (e) =>{\n        // sets password input fields in state object\n        var from = e.target.id\n        if(from === \"old\"){\n            this.setState({old:e.target.value})\n        }\n        if(from ===\"new\"){\n            this.setState({new:e.target.value})\n        }\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>old password</label>\n                        <input id = \"old\" type = \"password\" placeholder=\"old password\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='old'?<OldPassError/>:null}\n                    </Form.Field>\n\n                    <Form.Field>\n                        <label>new password</label>\n                        <input id = \"new\" type = \"password\" placeholder=\"new password\" onChange = {this.handleInput}></input>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>confirm new password</label>\n                        <input id =\"confirm\" type = \"password\" placeholder=\"confirm password\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmPassError/>:null}\n                    </Form.Field>\n                    \n\n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}","import React from 'react'\nimport {Button,List,Icon} from 'semantic-ui-react'\nimport PasswordChangeForm from '../forms/PasswordChangeForm'\nimport {PassChangeSuccess} from '../messages/SuccessMessages'\n\n\nclass AccountPasswordChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            success:''\n        }\n\n    }\n    handleClick = () =>{\n        //switch to form\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = (changed) =>{\n        // switch from form to list item\n        if(changed === 'password'){\n            this.setState({button:true,success:'password'})\n        }\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n\n            <div>\n \n                <div>\n                    {this.state.button?\n                        <List.Header onClick = {this.handleClick}>Change Password</List.Header>:\n                        <PasswordChangeForm cancel = {this.handleCancel} handleError = {this.props.handleError}/>\n                    }    \n\n                    {this.state.success==='password'?<PassChangeSuccess/>:null}  \n                </div>\n            </div>\n            \n        )\n    }\n\n}\n\nexport default AccountPasswordChange","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmEmailError, EmailExists} from '../messages/ErrorMessages'\nimport current_user from '../../auth/login_auth'\n\nimport axios from 'axios'\n\n\nexport default class EmailChangeForm extends React.Component{\n\n    constructor(props){\n        super(props)\n        //this.handleSubmit = this.handleSubmit.bind(this)\n        this.state ={\n            new:'',\n            confirm:'',\n            error:null,\n            success:false\n        }\n        this.user_id = current_user.user_id\n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault()\n\n        if(this.state.new !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            email:this.state.new\n        }\n        axios.patch(`/users/${this.user_id}`,data,{withCredentials:true})\n            .then(res=>{\n                if(res.data.message==='email-in-use'){\n                    return this.setState({error:'in-use'})\n                }\n                //email successfully changed, exit form\n                this.props.cancel('email')\n            })\n            .catch(err=>{\n                this.props.handleError('emailChange')\n            })\n    }\n\n    handleInput = (e) =>{\n        // retrieves value from target input element\n        var from = e.target.id\n        if(from ===\"new\"){\n            this.setState({new:e.target.value})\n        }\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>new email</label>\n                        <input id = \"new\" type = \"email\" placeholder=\"new email\" onChange = {this.handleInput}></input>\n                        {this.state.error === 'in-use'?<EmailExists/>:null}\n                    </Form.Field>\n                    <Form.Field>\n                        <label>confirm new email</label>\n                        <input id =\"confirm\" type = \"email\" placeholder=\"confirm email\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmEmailError/>:null}\n                    </Form.Field>\n        \n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}","import React from 'react'\nimport {Button,List,Icon} from 'semantic-ui-react'\nimport EmailChangeForm from '../forms/EmailChangeForm'\nimport {EmailChangeSuccess} from '../messages/SuccessMessages'\n\n\nclass AccountEmailChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            success:''\n        }\n\n    }\n    handleClick = () =>{\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = (changed) =>{\n        if(changed === 'email'){\n            this.setState({button:true,success:'email'})\n        }\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n            <div>\n                <div>\n                    {this.state.button?<List.Header onClick = {this.handleClick}>Change Email</List.Header>: <EmailChangeForm cancel = {this.handleCancel} handleError ={this.props.handleError}/>}                    \n                    {this.state.success==='email'?<EmailChangeSuccess/>:null}  \n                </div>\n            </div>\n            \n        )\n    }\n\n}\n\nexport default AccountEmailChange","import React from 'react'\nimport {Form,Button} from 'semantic-ui-react'\nimport {ConfirmEmailError} from '../messages/ErrorMessages'\nimport current_user from '../../auth/login_auth'\n\nimport axios from 'axios'\nimport { withRouter } from 'react-router'\n\nclass DeleteAccountForm extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state ={\n            user:current_user.getUser(),\n            confirm:'',\n            error:null\n        }\n        this.user_id = current_user.user_id\n    }\n\n    handleSubmit=(e)=>{\n        //gets value of email input and makes request to server for deletion\n        e.preventDefault()\n        if(this.state.user !== this.state.confirm){\n            return this.setState({error:'confirm'})\n        }\n        var data = {\n            email:this.state.user\n        }\n        axios.delete(`/users/${this.user_id}`,data,{withCredentials:true})\n            .then(res=>{\n                current_user.logout(()=>{\n                    this.props.history.push('/')\n                })\n                \n            })\n            .catch(err=>{\n                return this.props.handleError('delete')\n            })\n    }\n\n    handleInput = (e) =>{\n        var from = e.target.id\n        if(from === \"confirm\"){\n            this.setState({confirm:e.target.value})\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Field>\n                        <label>Account will be deleted after email is confirmed</label>\n                        <input id =\"confirm\" type = \"email\" placeholder=\"confirm email\" onChange = {this.handleInput}></input>\n                        {this.state.error ==='confirm'?<ConfirmEmailError/>:null}\n                    </Form.Field>\n        \n                    <Button type = \"submit\">Submit</Button>\n                    <Button onClick = {this.props.cancel}>Cancel</Button>\n\n                </Form>\n\n\n            </div>\n\n        )       \n    }\n\n}\n\nexport default withRouter(DeleteAccountForm)","import React from 'react'\nimport {List} from 'semantic-ui-react'\nimport DeleteAccountForm from '../forms/DeleteAccountForm'\n\n//Delete form\n\n\n\nclass AccountDelete extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleCancel = this.handleCancel.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.state ={\n            button:true,\n            error:null\n        }\n\n    }\n    handleClick = () =>{\n        // changes from list item to form\n        this.setState({button:false,success:''})\n    }\n\n    handleCancel = () =>{\n        // changes from form to list item\n        this.setState({button:true})\n    }\n\n    render(){\n        return(\n            <div>\n                <div>\n                    {this.state.button?\n                        <List.Header onClick = {this.handleClick}>Delete Account</List.Header>:\n                        <DeleteAccountForm cancel = {this.handleCancel} handleError = {this.props.handleError}/>}\n                </div>\n            </div>\n\n        )\n\n    }\n}\n\nexport default AccountDelete\n","import React from 'react'\nimport Authenticate_user from '../../auth/login_auth'\nimport NavBar from '../nav/NavBar'\nimport AccountPasswordChange from '../lists/AccountPasswordChange'\nimport AccountEmailChange from '../lists/AccountEmailChange'\nimport AccountDelete from '../lists/AccountDelete'\nimport {DeleteAccountError,EmailChangeError,PassChangeError} from '../messages/ErrorMessages'\n\nimport {List,Icon, Segment, Container} from 'semantic-ui-react'\n\n\n\nclass Account extends React.Component{\n    constructor(props){\n        super(props)\n        this.handleError = this.handleError.bind(this)\n        this.state = {\n            user:Authenticate_user.getUser(),\n            error:null\n        }\n    }\n\n    handleError = (error) =>{\n        return this.setState({error:error})\n    }\n\n    render(){\n        return(\n            <Container>\n                <NavBar/>\n                <h1>\n                    Welcome, {this.state.user}\n                </h1>\n                <Segment basic>\n                    {this.state.error==='delete'?<DeleteAccountError/>:null}\n                    {this.state.error === 'emailChange'?<EmailChangeError/>:null}\n                    {this.state.error === 'passChange'?<PassChangeError/>:null}\n                </Segment>\n                <List animated verticalAlign = 'middle'>\n                    <List.Item>\n                        <Icon name = \"edit\"/> \n                        <List.Content>\n                            <AccountPasswordChange handleError ={this.handleError}/>                            \n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <Icon name =\"edit\"/>\n                        <List.Content>\n                            <AccountEmailChange handleError = {this.handleError}/>\n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <Icon name =\"trash alternate outline\" color = \"red\"/>\n                        <List.Content>\n                            <AccountDelete handleError = {this.handleError}/>\n                        </List.Content>\n                    </List.Item>\n                </List>\n\n            </Container>\n        )\n    }\n\n}\nexport default Account","import React from \"react\";\nimport {Switch} from 'react-router';\nimport Login from \"./components/pages/Login\";\nimport Upload from \"./components/pages/Upload\";\nimport Receipts from \"./components/pages/Receipts\";\nimport Register from \"./components/pages/Register\";\nimport PrivateRoute from \"./components/private_routes/_check_login\";\nimport PublicRoute from \"./components/public_routes/logged_in_check\";\nimport Authenticate_user from \"./auth/login_auth\";\nimport Account from \"./components/pages/Account\";\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.setUser = this.setUser.bind(this);\n    this.state = {\n      user:Authenticate_user.getUser(),\n      jwt:null\n    }\n  }\n  setUser =()=>{\n    this.setState({user:Authenticate_user.getUser()});\n  }\n  componentDidUpdate(){\n    this.setState({user:Authenticate_user.getUser()});\n    this.setState({jwt:Authenticate_user.getToken()});\n  }\n\n  render(){\n    return(\n      <Switch>\n        <PublicRoute path=\"/\" exact component = {Login}/>\n        <PrivateRoute path =\"/account\" exact component = {Account}/>\n        <PrivateRoute path=\"/upload\" exact component = {Upload}/>\n        <PrivateRoute path=\"/receipts\" exact component = {Receipts}/>\n        <PublicRoute path=\"/register\" exact component = {Register}/>\n      </Switch>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport axios from 'axios';\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./css/root.css\";\n\n//axios.defaults.baseURL = process.env.REACT_APP_BASE;\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}